"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/api/nachrichten/count";
exports.ids = ["pages/api/nachrichten/count"];
exports.modules = {

/***/ "mongodb":
/*!**************************!*\
  !*** external "mongodb" ***!
  \**************************/
/***/ ((module) => {

module.exports = require("mongodb");

/***/ }),

/***/ "next/dist/compiled/next-server/pages-api.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/pages-api.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/pages-api.runtime.dev.js");

/***/ }),

/***/ "(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fnachrichten%2Fcount&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Cnachrichten%5Ccount.js&middlewareConfigBase64=e30%3D!":
/*!********************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fnachrichten%2Fcount&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Cnachrichten%5Ccount.js&middlewareConfigBase64=e30%3D! ***!
  \********************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   config: () => (/* binding */ config),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   routeModule: () => (/* binding */ routeModule)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/pages-api/module.compiled */ \"(api)/./node_modules/next/dist/server/future/route-modules/pages-api/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(api)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/build/templates/helpers */ \"(api)/./node_modules/next/dist/build/templates/helpers.js\");\n/* harmony import */ var _pages_api_nachrichten_count_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./pages\\api\\nachrichten\\count.js */ \"(api)/./pages/api/nachrichten/count.js\");\n\n\n\n// Import the userland code.\n\n// Re-export the handler (should be the default export).\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_nachrichten_count_js__WEBPACK_IMPORTED_MODULE_3__, \"default\"));\n// Re-export config.\nconst config = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_nachrichten_count_js__WEBPACK_IMPORTED_MODULE_3__, \"config\");\n// Create and export the route module that will be consumed.\nconst routeModule = new next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__.PagesAPIRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.PAGES_API,\n        page: \"/api/nachrichten/count\",\n        pathname: \"/api/nachrichten/count\",\n        // The following aren't used in production.\n        bundlePath: \"\",\n        filename: \"\"\n    },\n    userland: _pages_api_nachrichten_count_js__WEBPACK_IMPORTED_MODULE_3__\n});\n\n//# sourceMappingURL=pages-api.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LXJvdXRlLWxvYWRlci9pbmRleC5qcz9raW5kPVBBR0VTX0FQSSZwYWdlPSUyRmFwaSUyRm5hY2hyaWNodGVuJTJGY291bnQmcHJlZmVycmVkUmVnaW9uPSZhYnNvbHV0ZVBhZ2VQYXRoPS4lMkZwYWdlcyU1Q2FwaSU1Q25hY2hyaWNodGVuJTVDY291bnQuanMmbWlkZGxld2FyZUNvbmZpZ0Jhc2U2ND1lMzAlM0QhIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBQXNHO0FBQ3ZDO0FBQ0w7QUFDMUQ7QUFDZ0U7QUFDaEU7QUFDQSxpRUFBZSx3RUFBSyxDQUFDLDREQUFRLFlBQVksRUFBQztBQUMxQztBQUNPLGVBQWUsd0VBQUssQ0FBQyw0REFBUTtBQUNwQztBQUNPLHdCQUF3QixnSEFBbUI7QUFDbEQ7QUFDQSxjQUFjLHlFQUFTO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsWUFBWTtBQUNaLENBQUM7O0FBRUQiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9hdWZ0cmFnc2FwcC1tdnAvPzk0ZDEiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgUGFnZXNBUElSb3V0ZU1vZHVsZSB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1tb2R1bGVzL3BhZ2VzLWFwaS9tb2R1bGUuY29tcGlsZWRcIjtcbmltcG9ydCB7IFJvdXRlS2luZCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1raW5kXCI7XG5pbXBvcnQgeyBob2lzdCB9IGZyb20gXCJuZXh0L2Rpc3QvYnVpbGQvdGVtcGxhdGVzL2hlbHBlcnNcIjtcbi8vIEltcG9ydCB0aGUgdXNlcmxhbmQgY29kZS5cbmltcG9ydCAqIGFzIHVzZXJsYW5kIGZyb20gXCIuL3BhZ2VzXFxcXGFwaVxcXFxuYWNocmljaHRlblxcXFxjb3VudC5qc1wiO1xuLy8gUmUtZXhwb3J0IHRoZSBoYW5kbGVyIChzaG91bGQgYmUgdGhlIGRlZmF1bHQgZXhwb3J0KS5cbmV4cG9ydCBkZWZhdWx0IGhvaXN0KHVzZXJsYW5kLCBcImRlZmF1bHRcIik7XG4vLyBSZS1leHBvcnQgY29uZmlnLlxuZXhwb3J0IGNvbnN0IGNvbmZpZyA9IGhvaXN0KHVzZXJsYW5kLCBcImNvbmZpZ1wiKTtcbi8vIENyZWF0ZSBhbmQgZXhwb3J0IHRoZSByb3V0ZSBtb2R1bGUgdGhhdCB3aWxsIGJlIGNvbnN1bWVkLlxuZXhwb3J0IGNvbnN0IHJvdXRlTW9kdWxlID0gbmV3IFBhZ2VzQVBJUm91dGVNb2R1bGUoe1xuICAgIGRlZmluaXRpb246IHtcbiAgICAgICAga2luZDogUm91dGVLaW5kLlBBR0VTX0FQSSxcbiAgICAgICAgcGFnZTogXCIvYXBpL25hY2hyaWNodGVuL2NvdW50XCIsXG4gICAgICAgIHBhdGhuYW1lOiBcIi9hcGkvbmFjaHJpY2h0ZW4vY291bnRcIixcbiAgICAgICAgLy8gVGhlIGZvbGxvd2luZyBhcmVuJ3QgdXNlZCBpbiBwcm9kdWN0aW9uLlxuICAgICAgICBidW5kbGVQYXRoOiBcIlwiLFxuICAgICAgICBmaWxlbmFtZTogXCJcIlxuICAgIH0sXG4gICAgdXNlcmxhbmRcbn0pO1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1wYWdlcy1hcGkuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fnachrichten%2Fcount&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Cnachrichten%5Ccount.js&middlewareConfigBase64=e30%3D!\n");

/***/ }),

/***/ "(api)/./lib/mongodb.js":
/*!************************!*\
  !*** ./lib/mongodb.js ***!
  \************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var mongodb__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mongodb */ \"mongodb\");\n/* harmony import */ var mongodb__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mongodb__WEBPACK_IMPORTED_MODULE_0__);\n\nconst uri = process.env.MONGODB_URI;\nconst options = {};\nlet client;\nlet clientPromise;\nif (!process.env.MONGODB_URI) {\n    throw new Error(\"Bitte MONGODB_URI in .env.local setzen\");\n}\nif (!global._mongoClientPromise) {\n    client = new mongodb__WEBPACK_IMPORTED_MODULE_0__.MongoClient(uri, options);\n    global._mongoClientPromise = client.connect();\n}\nclientPromise = global._mongoClientPromise;\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (clientPromise);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9saWIvbW9uZ29kYi5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBc0M7QUFFdEMsTUFBTUMsTUFBTUMsUUFBUUMsR0FBRyxDQUFDQyxXQUFXO0FBQ25DLE1BQU1DLFVBQVUsQ0FBQztBQUVqQixJQUFJQztBQUNKLElBQUlDO0FBRUosSUFBSSxDQUFDTCxRQUFRQyxHQUFHLENBQUNDLFdBQVcsRUFBRTtJQUM1QixNQUFNLElBQUlJLE1BQU07QUFDbEI7QUFFQSxJQUFJLENBQUNDLE9BQU9DLG1CQUFtQixFQUFFO0lBQy9CSixTQUFTLElBQUlOLGdEQUFXQSxDQUFDQyxLQUFLSTtJQUM5QkksT0FBT0MsbUJBQW1CLEdBQUdKLE9BQU9LLE9BQU87QUFDN0M7QUFDQUosZ0JBQWdCRSxPQUFPQyxtQkFBbUI7QUFFMUMsaUVBQWVILGFBQWFBLEVBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9hdWZ0cmFnc2FwcC1tdnAvLi9saWIvbW9uZ29kYi5qcz9kOTIwIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE1vbmdvQ2xpZW50IH0gZnJvbSAnbW9uZ29kYic7XG5cbmNvbnN0IHVyaSA9IHByb2Nlc3MuZW52Lk1PTkdPREJfVVJJO1xuY29uc3Qgb3B0aW9ucyA9IHt9O1xuXG5sZXQgY2xpZW50O1xubGV0IGNsaWVudFByb21pc2U7XG5cbmlmICghcHJvY2Vzcy5lbnYuTU9OR09EQl9VUkkpIHtcbiAgdGhyb3cgbmV3IEVycm9yKCdCaXR0ZSBNT05HT0RCX1VSSSBpbiAuZW52LmxvY2FsIHNldHplbicpO1xufVxuXG5pZiAoIWdsb2JhbC5fbW9uZ29DbGllbnRQcm9taXNlKSB7XG4gIGNsaWVudCA9IG5ldyBNb25nb0NsaWVudCh1cmksIG9wdGlvbnMpO1xuICBnbG9iYWwuX21vbmdvQ2xpZW50UHJvbWlzZSA9IGNsaWVudC5jb25uZWN0KCk7XG59XG5jbGllbnRQcm9taXNlID0gZ2xvYmFsLl9tb25nb0NsaWVudFByb21pc2U7XG5cbmV4cG9ydCBkZWZhdWx0IGNsaWVudFByb21pc2U7Il0sIm5hbWVzIjpbIk1vbmdvQ2xpZW50IiwidXJpIiwicHJvY2VzcyIsImVudiIsIk1PTkdPREJfVVJJIiwib3B0aW9ucyIsImNsaWVudCIsImNsaWVudFByb21pc2UiLCJFcnJvciIsImdsb2JhbCIsIl9tb25nb0NsaWVudFByb21pc2UiLCJjb25uZWN0Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./lib/mongodb.js\n");

/***/ }),

/***/ "(api)/./pages/api/nachrichten/count.js":
/*!****************************************!*\
  !*** ./pages/api/nachrichten/count.js ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ handler)\n/* harmony export */ });\n/* harmony import */ var _lib_mongodb__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../lib/mongodb */ \"(api)/./lib/mongodb.js\");\n/* harmony import */ var mongodb__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! mongodb */ \"mongodb\");\n/* harmony import */ var mongodb__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(mongodb__WEBPACK_IMPORTED_MODULE_1__);\n// pages/api/nachrichten/count.js\n\n\nfunction toDateOrNull(v) {\n    const d = new Date(v);\n    return isNaN(d.getTime()) ? null : d;\n}\nasync function handler(req, res) {\n    try {\n        const client = await _lib_mongodb__WEBPACK_IMPORTED_MODULE_0__[\"default\"];\n        const db = client.db(process.env.MONGODB_DB || process.env.MONGODB_DB_NAME || \"vermittlungsapp\");\n        const nachrichtenCol = db.collection(\"nachrichten\");\n        const auftraegeCol = db.collection(\"auftraege\");\n        // ownerEmail = E-Mail des Auftraggebers (Ersteller der Aufträge)\n        // since = optional ISO-Zeitstempel für \"neue\" Nachrichten seit ...\n        const { ownerEmail, since } = req.query || {};\n        if (!ownerEmail) {\n            return res.status(400).json({\n                ok: false,\n                error: \"ownerEmail required\"\n            });\n        }\n        // Alle Aufträge dieses Auftraggebers holen (nur IDs)\n        const auftraege = await auftraegeCol.find({\n            erstelltVon: ownerEmail\n        }).project({\n            _id: 1\n        }).toArray();\n        if (!auftraege.length) {\n            return res.status(200).json({\n                ok: true,\n                count: 0\n            });\n        }\n        const idsObj = auftraege.map((a)=>a._id);\n        const idsStr = idsObj.map((id)=>String(id));\n        // Nachrichten-Filter:\n        const orOnId = [\n            {\n                auftragId: {\n                    $in: idsObj\n                }\n            },\n            {\n                auftragId: {\n                    $in: idsStr\n                }\n            }\n        ];\n        const filter = {\n            $or: orOnId\n        };\n        // Nur \"neue\" Nachrichten seit Zeitpunkt (optional)\n        const sinceDate = since ? toDateOrNull(since) : null;\n        if (sinceDate) filter.createdAt = {\n            $gt: sinceDate\n        };\n        // Optional (wenn senderEmail gesetzt ist): keine eigenen Nachrichten zählen\n        // Falls senderEmail in alten Nachrichten fehlt, zählen wir sie trotzdem.\n        filter.$and = [\n            {\n                $or: [\n                    {\n                        senderEmail: {\n                            $exists: false\n                        }\n                    },\n                    {\n                        senderEmail: {\n                            $ne: ownerEmail\n                        }\n                    }\n                ]\n            }\n        ];\n        const count = await nachrichtenCol.countDocuments(filter);\n        return res.status(200).json({\n            ok: true,\n            count\n        });\n    } catch (err) {\n        console.error(\"GET /api/nachrichten/count error:\", err);\n        return res.status(500).json({\n            ok: false,\n            error: \"SERVER_ERROR\"\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9wYWdlcy9hcGkvbmFjaHJpY2h0ZW4vY291bnQuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBLGlDQUFpQztBQUNnQjtBQUNkO0FBRW5DLFNBQVNFLGFBQWFDLENBQUM7SUFDckIsTUFBTUMsSUFBSSxJQUFJQyxLQUFLRjtJQUNuQixPQUFPRyxNQUFNRixFQUFFRyxPQUFPLE1BQU0sT0FBT0g7QUFDckM7QUFFZSxlQUFlSSxRQUFRQyxHQUFHLEVBQUVDLEdBQUc7SUFDNUMsSUFBSTtRQUNGLE1BQU1DLFNBQVMsTUFBTVgsb0RBQWFBO1FBQ2xDLE1BQU1ZLEtBQUtELE9BQU9DLEVBQUUsQ0FBQ0MsUUFBUUMsR0FBRyxDQUFDQyxVQUFVLElBQUlGLFFBQVFDLEdBQUcsQ0FBQ0UsZUFBZSxJQUFJO1FBQzlFLE1BQU1DLGlCQUFpQkwsR0FBR00sVUFBVSxDQUFDO1FBQ3JDLE1BQU1DLGVBQWVQLEdBQUdNLFVBQVUsQ0FBQztRQUVuQyxpRUFBaUU7UUFDakUsbUVBQW1FO1FBQ25FLE1BQU0sRUFBRUUsVUFBVSxFQUFFQyxLQUFLLEVBQUUsR0FBR1osSUFBSWEsS0FBSyxJQUFJLENBQUM7UUFDNUMsSUFBSSxDQUFDRixZQUFZO1lBQ2YsT0FBT1YsSUFBSWEsTUFBTSxDQUFDLEtBQUtDLElBQUksQ0FBQztnQkFBRUMsSUFBSTtnQkFBT0MsT0FBTztZQUFzQjtRQUN4RTtRQUVBLHFEQUFxRDtRQUNyRCxNQUFNQyxZQUFZLE1BQU1SLGFBQ3JCUyxJQUFJLENBQUM7WUFBRUMsYUFBYVQ7UUFBVyxHQUMvQlUsT0FBTyxDQUFDO1lBQUVDLEtBQUs7UUFBRSxHQUNqQkMsT0FBTztRQUVWLElBQUksQ0FBQ0wsVUFBVU0sTUFBTSxFQUFFO1lBQ3JCLE9BQU92QixJQUFJYSxNQUFNLENBQUMsS0FBS0MsSUFBSSxDQUFDO2dCQUFFQyxJQUFJO2dCQUFNUyxPQUFPO1lBQUU7UUFDbkQ7UUFFQSxNQUFNQyxTQUFTUixVQUFVUyxHQUFHLENBQUNDLENBQUFBLElBQUtBLEVBQUVOLEdBQUc7UUFDdkMsTUFBTU8sU0FBU0gsT0FBT0MsR0FBRyxDQUFDRyxDQUFBQSxLQUFNQyxPQUFPRDtRQUV2QyxzQkFBc0I7UUFDdEIsTUFBTUUsU0FBUztZQUNiO2dCQUFFQyxXQUFXO29CQUFFQyxLQUFLUjtnQkFBTztZQUFFO1lBQzdCO2dCQUFFTyxXQUFXO29CQUFFQyxLQUFLTDtnQkFBTztZQUFFO1NBQzlCO1FBRUQsTUFBTU0sU0FBUztZQUFFQyxLQUFLSjtRQUFPO1FBRTdCLG1EQUFtRDtRQUNuRCxNQUFNSyxZQUFZekIsUUFBUW5CLGFBQWFtQixTQUFTO1FBQ2hELElBQUl5QixXQUFXRixPQUFPRyxTQUFTLEdBQUc7WUFBRUMsS0FBS0Y7UUFBVTtRQUVuRCw0RUFBNEU7UUFDNUUseUVBQXlFO1FBQ3pFRixPQUFPSyxJQUFJLEdBQUc7WUFDWjtnQkFDRUosS0FBSztvQkFDSDt3QkFBRUssYUFBYTs0QkFBRUMsU0FBUzt3QkFBTTtvQkFBRTtvQkFDbEM7d0JBQUVELGFBQWE7NEJBQUVFLEtBQUtoQzt3QkFBVztvQkFBRTtpQkFDcEM7WUFDSDtTQUNEO1FBRUQsTUFBTWMsUUFBUSxNQUFNakIsZUFBZW9DLGNBQWMsQ0FBQ1Q7UUFDbEQsT0FBT2xDLElBQUlhLE1BQU0sQ0FBQyxLQUFLQyxJQUFJLENBQUM7WUFBRUMsSUFBSTtZQUFNUztRQUFNO0lBQ2hELEVBQUUsT0FBT29CLEtBQUs7UUFDWkMsUUFBUTdCLEtBQUssQ0FBQyxxQ0FBcUM0QjtRQUNuRCxPQUFPNUMsSUFBSWEsTUFBTSxDQUFDLEtBQUtDLElBQUksQ0FBQztZQUFFQyxJQUFJO1lBQU9DLE9BQU87UUFBZTtJQUNqRTtBQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYXVmdHJhZ3NhcHAtbXZwLy4vcGFnZXMvYXBpL25hY2hyaWNodGVuL2NvdW50LmpzPzBiZTYiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gcGFnZXMvYXBpL25hY2hyaWNodGVuL2NvdW50LmpzXHJcbmltcG9ydCBjbGllbnRQcm9taXNlIGZyb20gXCIuLi8uLi8uLi9saWIvbW9uZ29kYlwiO1xyXG5pbXBvcnQgeyBPYmplY3RJZCB9IGZyb20gXCJtb25nb2RiXCI7XHJcblxyXG5mdW5jdGlvbiB0b0RhdGVPck51bGwodikge1xyXG4gIGNvbnN0IGQgPSBuZXcgRGF0ZSh2KTtcclxuICByZXR1cm4gaXNOYU4oZC5nZXRUaW1lKCkpID8gbnVsbCA6IGQ7XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IGFzeW5jIGZ1bmN0aW9uIGhhbmRsZXIocmVxLCByZXMpIHtcclxuICB0cnkge1xyXG4gICAgY29uc3QgY2xpZW50ID0gYXdhaXQgY2xpZW50UHJvbWlzZTtcclxuICAgIGNvbnN0IGRiID0gY2xpZW50LmRiKHByb2Nlc3MuZW52Lk1PTkdPREJfREIgfHwgcHJvY2Vzcy5lbnYuTU9OR09EQl9EQl9OQU1FIHx8IFwidmVybWl0dGx1bmdzYXBwXCIpO1xyXG4gICAgY29uc3QgbmFjaHJpY2h0ZW5Db2wgPSBkYi5jb2xsZWN0aW9uKFwibmFjaHJpY2h0ZW5cIik7XHJcbiAgICBjb25zdCBhdWZ0cmFlZ2VDb2wgPSBkYi5jb2xsZWN0aW9uKFwiYXVmdHJhZWdlXCIpO1xyXG5cclxuICAgIC8vIG93bmVyRW1haWwgPSBFLU1haWwgZGVzIEF1ZnRyYWdnZWJlcnMgKEVyc3RlbGxlciBkZXIgQXVmdHLDpGdlKVxyXG4gICAgLy8gc2luY2UgPSBvcHRpb25hbCBJU08tWmVpdHN0ZW1wZWwgZsO8ciBcIm5ldWVcIiBOYWNocmljaHRlbiBzZWl0IC4uLlxyXG4gICAgY29uc3QgeyBvd25lckVtYWlsLCBzaW5jZSB9ID0gcmVxLnF1ZXJ5IHx8IHt9O1xyXG4gICAgaWYgKCFvd25lckVtYWlsKSB7XHJcbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7IG9rOiBmYWxzZSwgZXJyb3I6IFwib3duZXJFbWFpbCByZXF1aXJlZFwiIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIEFsbGUgQXVmdHLDpGdlIGRpZXNlcyBBdWZ0cmFnZ2ViZXJzIGhvbGVuIChudXIgSURzKVxyXG4gICAgY29uc3QgYXVmdHJhZWdlID0gYXdhaXQgYXVmdHJhZWdlQ29sXHJcbiAgICAgIC5maW5kKHsgZXJzdGVsbHRWb246IG93bmVyRW1haWwgfSlcclxuICAgICAgLnByb2plY3QoeyBfaWQ6IDEgfSlcclxuICAgICAgLnRvQXJyYXkoKTtcclxuXHJcbiAgICBpZiAoIWF1ZnRyYWVnZS5sZW5ndGgpIHtcclxuICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5qc29uKHsgb2s6IHRydWUsIGNvdW50OiAwIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IGlkc09iaiA9IGF1ZnRyYWVnZS5tYXAoYSA9PiBhLl9pZCk7XHJcbiAgICBjb25zdCBpZHNTdHIgPSBpZHNPYmoubWFwKGlkID0+IFN0cmluZyhpZCkpO1xyXG5cclxuICAgIC8vIE5hY2hyaWNodGVuLUZpbHRlcjpcclxuICAgIGNvbnN0IG9yT25JZCA9IFtcclxuICAgICAgeyBhdWZ0cmFnSWQ6IHsgJGluOiBpZHNPYmogfSB9LCAgICAgIC8vIGZhbGxzIGFscyBPYmplY3RJZCBnZXNwZWljaGVydFxyXG4gICAgICB7IGF1ZnRyYWdJZDogeyAkaW46IGlkc1N0ciB9IH0sICAgICAgLy8gZmFsbHMgYWxzIFN0cmluZyBnZXNwZWljaGVydFxyXG4gICAgXTtcclxuXHJcbiAgICBjb25zdCBmaWx0ZXIgPSB7ICRvcjogb3JPbklkIH07XHJcblxyXG4gICAgLy8gTnVyIFwibmV1ZVwiIE5hY2hyaWNodGVuIHNlaXQgWmVpdHB1bmt0IChvcHRpb25hbClcclxuICAgIGNvbnN0IHNpbmNlRGF0ZSA9IHNpbmNlID8gdG9EYXRlT3JOdWxsKHNpbmNlKSA6IG51bGw7XHJcbiAgICBpZiAoc2luY2VEYXRlKSBmaWx0ZXIuY3JlYXRlZEF0ID0geyAkZ3Q6IHNpbmNlRGF0ZSB9O1xyXG5cclxuICAgIC8vIE9wdGlvbmFsICh3ZW5uIHNlbmRlckVtYWlsIGdlc2V0enQgaXN0KToga2VpbmUgZWlnZW5lbiBOYWNocmljaHRlbiB6w6RobGVuXHJcbiAgICAvLyBGYWxscyBzZW5kZXJFbWFpbCBpbiBhbHRlbiBOYWNocmljaHRlbiBmZWhsdCwgesOkaGxlbiB3aXIgc2llIHRyb3R6ZGVtLlxyXG4gICAgZmlsdGVyLiRhbmQgPSBbXHJcbiAgICAgIHtcclxuICAgICAgICAkb3I6IFtcclxuICAgICAgICAgIHsgc2VuZGVyRW1haWw6IHsgJGV4aXN0czogZmFsc2UgfSB9LFxyXG4gICAgICAgICAgeyBzZW5kZXJFbWFpbDogeyAkbmU6IG93bmVyRW1haWwgfSB9LFxyXG4gICAgICAgIF0sXHJcbiAgICAgIH0sXHJcbiAgICBdO1xyXG5cclxuICAgIGNvbnN0IGNvdW50ID0gYXdhaXQgbmFjaHJpY2h0ZW5Db2wuY291bnREb2N1bWVudHMoZmlsdGVyKTtcclxuICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbih7IG9rOiB0cnVlLCBjb3VudCB9KTtcclxuICB9IGNhdGNoIChlcnIpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoXCJHRVQgL2FwaS9uYWNocmljaHRlbi9jb3VudCBlcnJvcjpcIiwgZXJyKTtcclxuICAgIHJldHVybiByZXMuc3RhdHVzKDUwMCkuanNvbih7IG9rOiBmYWxzZSwgZXJyb3I6IFwiU0VSVkVSX0VSUk9SXCIgfSk7XHJcbiAgfVxyXG59XHJcbiJdLCJuYW1lcyI6WyJjbGllbnRQcm9taXNlIiwiT2JqZWN0SWQiLCJ0b0RhdGVPck51bGwiLCJ2IiwiZCIsIkRhdGUiLCJpc05hTiIsImdldFRpbWUiLCJoYW5kbGVyIiwicmVxIiwicmVzIiwiY2xpZW50IiwiZGIiLCJwcm9jZXNzIiwiZW52IiwiTU9OR09EQl9EQiIsIk1PTkdPREJfREJfTkFNRSIsIm5hY2hyaWNodGVuQ29sIiwiY29sbGVjdGlvbiIsImF1ZnRyYWVnZUNvbCIsIm93bmVyRW1haWwiLCJzaW5jZSIsInF1ZXJ5Iiwic3RhdHVzIiwianNvbiIsIm9rIiwiZXJyb3IiLCJhdWZ0cmFlZ2UiLCJmaW5kIiwiZXJzdGVsbHRWb24iLCJwcm9qZWN0IiwiX2lkIiwidG9BcnJheSIsImxlbmd0aCIsImNvdW50IiwiaWRzT2JqIiwibWFwIiwiYSIsImlkc1N0ciIsImlkIiwiU3RyaW5nIiwib3JPbklkIiwiYXVmdHJhZ0lkIiwiJGluIiwiZmlsdGVyIiwiJG9yIiwic2luY2VEYXRlIiwiY3JlYXRlZEF0IiwiJGd0IiwiJGFuZCIsInNlbmRlckVtYWlsIiwiJGV4aXN0cyIsIiRuZSIsImNvdW50RG9jdW1lbnRzIiwiZXJyIiwiY29uc29sZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./pages/api/nachrichten/count.js\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-api-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fnachrichten%2Fcount&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Cnachrichten%5Ccount.js&middlewareConfigBase64=e30%3D!")));
module.exports = __webpack_exports__;

})();